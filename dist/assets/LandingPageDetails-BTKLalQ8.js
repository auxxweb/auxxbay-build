import{u as xe,ad as he,ae as pe,r as o,j as e,aG as je,ah as C,ak as p,aH as k,aI as be,aJ as ve,aK as K,aj as ue}from"./index-xjGBVXlK.js";import{C as Ne,g as fe}from"./cropper.utils-hXaAtoSo.js";import{p as V}from"./s3url-D4Pgq1dt.js";import{T as j}from"./TextField-Ca_hn913.js";const Y={x:0,y:0},Ie=()=>{var $,E,q,B,M,U,_,O,R,z,J,Z,G;const y=xe(),Q=he(),a=pe(l=>l.business),[d,P]=o.useState("#6AA646"),[I,F]=o.useState("#A8FF75"),[c,b]=o.useState({title:"",description:"",loading:""}),[n,v]=o.useState({title:"",description:"",loading:""}),[r,f]=o.useState({image:null,bannerFile:null,welcomeFile:null,preview:null,banner:null,welcome:null}),[X,we]=o.useState(null),[S,ee]=o.useState(),[s,x]=o.useState({}),[ae,u]=o.useState(!1),[le,T]=o.useState(Y),[se,ie]=o.useState(1),[te,re]=o.useState(null),[ce,N]=o.useState(!1),[w,L]=o.useState("landingPageHeroImage"),ne=(l,t)=>{re(t)},oe=async()=>{try{const l=w==="landingPageHeroImage"?c==null?void 0:c.coverImage:n==null?void 0:n.coverImage,t=w==="landingPageHeroImage"?X:S,{fileUrl:m,blob:i}=await fe(r.preview,te);N(!1);const g=new File([i],(t==null?void 0:t.name)||"cropped-logo.png",{type:i.type});f(w==="landingPageHeroImage"?h=>({...h,banner:m,bannerFile:i}):h=>({...h,welcome:m,welcomeFile:i})),T(Y)}catch(l){console.error("Error cropping image:",l)}},H=(l,t,m)=>{const i=t.target.files[0];if(f(g=>({...g,preview:URL.createObjectURL(i)})),l==="landingPageHeroImage"?(L("landingPageHeroImage"),b(g=>({...g,loading:!0}))):l==="welcomePartImage"&&(L("welcomePartImage"),v(g=>({...g,loading:!0}))),i){u(!0);const g=new FileReader;g.onload=()=>{m(h=>({...h,coverImage:g.result})),l==="landingPageHeroImage"?(b(h=>({...h,loading:!1})),N(!0)):l==="welcomePartImage"&&(v(h=>({...h,loading:!1})),ee(i),N(!0)),u(!1)},g.onerror=()=>{console.error("Error reading file:",g.error),u(!1)},g.readAsDataURL(i)}},D=l=>{const{name:t,value:m}=l.target;t=="title"&&x(m?i=>({...i,landingPageHeroTitle:""}):i=>({...i,landingPageHeroTitle:"title required"})),t=="description"&&x(m?i=>({...i,landingPageHeroDescription:""}):i=>({...i,landingPageHeroDescription:"Description required"})),b(i=>({...i,[t]:m}))},A=l=>{const{name:t,value:m}=l.target;t=="title"&&x(m?i=>({...i,welcomePartTitle:""}):i=>({...i,welcomePartTitle:"title required"})),t=="description"&&x(m?i=>({...i,welcomePartDescription:""}):i=>({...i,welcomePartDescription:"Description required"})),v(i=>({...i,[t]:m}))},de=()=>{const l={};return c.title||(l.landingPageHeroTitle="Landing Title is required"),c.description||(l.landingPageHeroDescription="Description is required"),r.banner||(l.landingPageHeroCoverImage="Cover image is required"),n.title||(l.welcomePartTitle="Title is required"),n.description||(l.welcomePartDescription="Description is required"),r.welcome||(l.welcomePartCoverImage="Cover image is required"),x(l),Object.keys(l).length===0},me=async()=>{u(!0);try{let l=null,t=null;console.log(l,t,"daattaattata"),r.bannerFile&&(l=await V(r.bannerFile,"Landing")),r.welcomeFile&&(t=await V(r.welcomeFile,"Welcome")),l!=null&&l.accessLink,t!=null&&t.accessLink,de()&&(Q(ue({landingPageHero:{...c,...r.bannerFile&&{coverImage:l==null?void 0:l.accessLink}},theme:d,secondaryTheme:I,welcomePart:{...n,...r.welcomeFile&&{coverImage:t==null?void 0:t.accessLink}}})),y("/create-business/core-services"))}catch(l){console.log(l)}finally{u(!1)}},W=l=>{document.getElementById(l).click()},ge=()=>y("/create-business/description");return o.useEffect(()=>{P((a==null?void 0:a.theme)||"#6AA646"),F((a==null?void 0:a.secondaryTheme)||"#A8FF75"),b(a==null?void 0:a.landingPageHero),v(a==null?void 0:a.welcomePart),console.log(a),f(l=>({...l,banner:a.landingPageHero.coverImage,welcome:a.welcomePart.coverImage}))},[a]),ae?e.jsx("div",{className:"h-100vh",children:e.jsx("div",{className:"d-flex h-100 justify-content-center align-items-center",children:e.jsx(je,{})})}):e.jsxs("div",{className:"h-100vh create-business-div",children:[ce&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",role:"dialog",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"modal-dialog modal-lg",role:"document",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Crop Your Image"}),e.jsx("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>N(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsx("div",{className:"cropper-container position-relative",style:{height:"400px"},children:e.jsx(Ne,{image:r==null?void 0:r.preview,crop:le,zoom:se,aspect:w==="landingPageHeroImage"?16/9:7/5,onCropChange:T,onZoomChange:ie,onCropComplete:ne})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx(C,{variant:"filled",className:"mx-2 bg-danger text-white border-danger",onClick:()=>N(!1),children:"Cancel"}),e.jsx(C,{color:"primary",className:"mx-2",variant:"contained",onClick:oe,children:"Save Crop"})]})]})})}),e.jsxs("div",{className:"row h-100 justify-content-center",children:[e.jsxs("div",{className:"col-12 col-md-6 row align-items-end justify-content-center h-100 p-3 p-md-5 right-portion",children:[e.jsx("div",{className:"col-12 text-start",children:e.jsx("button",{className:"btn btn-dark w-auto float-start",onClick:ge,children:e.jsx("i",{className:"bi bi-arrow-left"})})}),e.jsxs("div",{className:"row justify-content-center",children:[e.jsx("div",{className:"col-12 text-center text-md-start mt-5",children:e.jsxs("h1",{className:"fw-bold title-text",children:[e.jsx("span",{className:"title-main",children:"Add"})," ",e.jsx("br",{}),e.jsx("span",{className:"title-highlight",children:"Landing Page Details"})]})}),e.jsxs("div",{className:"col-12 p-3 p-md-3",children:[e.jsx("h5",{className:"fs-18 mb-4 p-1 text-start text-md-start text-dark fw-bold mt-3",children:"Color Theme"}),e.jsxs("div",{className:"col-6 col-md-3 d-flex w-100 gap-5 pb-3",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Choose Primary Color"}),e.jsx(j,{variant:"filled",type:"color",name:"color",className:"form-control form-control-lg",value:d,onChange:l=>P(l.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Choose Secondary Color"}),e.jsx(j,{type:"color",name:"color",className:"form-control form-control-lg",value:I,onChange:l=>F(l.target.value)})]})]}),e.jsx("h5",{className:"fs-18 mb-4 text-dark fw-bold mt-4",children:"Add Landing Page Banner"}),e.jsx(j,{fullWidth:!0,required:!0,className:"my-2 border-0",label:"Title (8 words)",id:"title",variant:"filled",name:"title",autoComplete:"title",value:c.title,onChange:D,error:!!(s!=null&&s.landingPageHeroTitle||p(c==null?void 0:c.title,8)),helperText:p(c==null?void 0:c.title,8)?"exceeded the limit":""}),(s==null?void 0:s.landingPageHeroTitle)&&e.jsx("p",{className:"text-danger",children:s==null?void 0:s.landingPageHeroTitle}),e.jsx(j,{className:"my-2",fullWidth:!0,required:!0,label:"Description (50 words)",id:"description",variant:"filled",name:"description",autoComplete:"description",multiline:!0,rows:4,value:c.description,onChange:D,error:!!(s!=null&&s.landingPageHeroDescription||p(c==null?void 0:c.description,50)),helperText:p(c==null?void 0:c.description,50)?"exceeded the limit":""}),(s==null?void 0:s.landingPageHeroDescription)&&e.jsx("p",{className:"text-danger",children:s==null?void 0:s.landingPageHeroDescription}),e.jsx("input",{type:"file",hidden:!0,id:"LandingHeroImageInput",onChange:l=>H("landingPageHeroImage",l,b)}),e.jsxs("div",{onClick:()=>W("LandingHeroImageInput"),className:"p-2 mt-2 mb-3 add-logo-div mx-auto",children:[e.jsx("span",{style:{color:"grey"},children:"(Ratio 16 : 9)"}),e.jsx("div",{className:"text-center",children:c.loading?e.jsx("div",{className:"spinner-border text-primary",role:"status"}):e.jsx("img",{src:(r==null?void 0:r.banner)||"/images/add_image.png",width:"50",alt:"Add Hero Image"})})]}),s.landingPageHeroCoverImage&&e.jsx("div",{className:"text-danger",children:s.landingPageHeroCoverImage}),e.jsx("h5",{className:"fs-18 mb-2 text-dark fw-bold mt-3",children:"Add Welcome Part"}),e.jsx(j,{className:"my-2",fullWidth:!0,required:!0,label:"Title (8 words)",id:"title",variant:"filled",name:"title",autoComplete:"title",value:n.title,onChange:A,error:!!(s!=null&&s.welcomePartTitle||p(n==null?void 0:n.title,8)),helperText:p(n==null?void 0:n.title,8)?"exceeded the limit":""}),(s==null?void 0:s.welcomePartTitle)&&e.jsx("p",{className:"text-danger",children:s==null?void 0:s.welcomePartTitle}),e.jsx(j,{className:"my-2",fullWidth:!0,required:!0,label:"Description (50 words)",id:"description",variant:"filled",name:"description",autoComplete:"description",multiline:!0,rows:4,value:n.description,onChange:A,error:!!(s!=null&&s.welcomePartDescription||p(n==null?void 0:n.description,50)),helperText:p(n==null?void 0:n.description,50)?"exceeded the limit":""}),(s==null?void 0:s.welcomePartDescription)&&e.jsx("p",{className:"text-danger",children:s==null?void 0:s.welcomePartDescription}),e.jsx("input",{type:"file",hidden:!0,id:"WelcomeImageInput",onChange:l=>H("welcomePartImage",l,v)}),e.jsxs("div",{onClick:()=>W("WelcomeImageInput"),className:"p-2 mt-2 mb-3 add-logo-div mx-auto",children:[e.jsx("span",{style:{color:"grey"},children:"(Ratio 7 : 5)"}),e.jsx("div",{className:"text-center",children:n.loading?e.jsx("div",{className:"spinner-border text-primary",role:"status"}):e.jsx("img",{src:(r==null?void 0:r.welcome)||"/images/add_image.png",width:"50",alt:"Add Welcome Image"})})]}),s.welcomePartCoverImage&&e.jsx("div",{className:"text-danger",children:s.welcomePartCoverImage}),e.jsx("div",{className:"col-12 mt-4 text-center",children:e.jsx(C,{variant:"contained",className:"w-100 submit-button",onClick:me,children:"Save & Next"})})]})]})]}),e.jsxs("div",{className:"d-none d-md-block left-portion p-0 col-md-6 h-100",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),e.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:!0}),e.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap",rel:"stylesheet"}),e.jsxs("style",{children:[" ",`
                        ::-webkit-scrollbar {
                            width: 12px; /* Width of the entire scrollbar */
                        }
    
                        /* Scrollbar track */
                        ::-webkit-scrollbar-track {
                            background: rgb(243, 243, 244); /* Background of the scrollbar track */
                        }::-webkit-scrollbar-thumb {
                            background-color: ${d}; /* Color of the scrollbar thumb */
                            border-radius: 10px;     /* Rounded edges of the thumb */
                            border: 3px solid  ${d}; /* Padding around the thumb */
                        }
                    .theme
                    {
                        background-color: ${d};
                        color: white;
                        border: none;
                    }.service-design.active{
                        background-color: ${d};
                    }.address-section{
                    background-color:${d};
                    }.address-logo i{
                    color: ${d};
                    }.cat-option{
                        border-right: 1px dashed ${d};
                    }.text-orange{
                            color: ${d};
                        }.dish-div:hover{
                            background-color: ${d};
                            color:white;
                        }.product-section{
                        padding:20px;
                        border:1px solid ${d};
                        border-radius:16px;
                            }.slick-dots .slick-active button{
                                background-color: ${d};
                                border-radius: 16px;
                            }
                        `]}),e.jsx(k,{expand:"lg",className:"bg-white pjs ",style:{paddingBlock:"5px"},children:e.jsxs(be,{children:[e.jsxs(k.Brand,{href:"/",className:"fw-bold w-50 nav-logo",style:{fontSize:"36px"},children:[e.jsx("img",{src:a==null?void 0:a.logo,alt:""}),e.jsx("span",{className:"ms-2",children:a==null?void 0:a.businessName})]}),e.jsx(k.Toggle,{"aria-controls":"basic-navbar-nav",style:{color:"black"}}),e.jsx(k.Collapse,{id:"basic-navbar-nav",children:e.jsx(ve,{className:"ms-auto w-100 justify-content-evenly jcc",children:e.jsxs("button",{className:"hamburger-btn text-black bg-transparent border-0 d-flex flex-column justify-content-center align-items-center",style:{cursor:"pointer"},onClick:()=>console.log("Hamburger button clicked"),children:[e.jsx("div",{style:{width:"25px",height:"3px",backgroundColor:"black",margin:"4px 0"}}),e.jsx("div",{style:{width:"25px",height:"3px",backgroundColor:"black",margin:"4px 0"}}),e.jsx("div",{style:{width:"25px",height:"3px",backgroundColor:"black",margin:"4px 0"}})]})})})]})}),e.jsx("section",{className:"h-auto",children:e.jsx("div",{className:"container p-top",children:e.jsxs("div",{className:"row align-items-center banner-section",children:[e.jsxs("div",{className:"col-12 col-lg-6 text-end d-block d-lg-none",children:[e.jsx("img",{src:r==null?void 0:r.banner,alt:"",className:"banner-image"}),e.jsx("div",{className:"banner-image-2 d-none",children:e.jsx("img",{src:"/images/baner-image2.png",alt:""})})]}),e.jsx("div",{className:"col-12 col-lg-6",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-12",children:e.jsx("h1",{className:"text-start text-dark fw-bold david-font fw-bold banner-title text-center text-lg-start",children:c.title})}),e.jsx("div",{className:"col-12",children:e.jsx("p",{className:"text-secondary text-center text-lg-start david-font",children:c.description})}),e.jsx("div",{className:"mt-3 col-12",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6 col-lg-5 mb-2",children:e.jsx(K,{to:"#about",className:"btn btn-dark text-white radius-theme box-shadow w-100 p-1",style:{backgroundColor:"#212529"},children:"View More"})}),e.jsx("div",{className:"col-6 col-lg-5 mb-2",children:e.jsx(K,{to:"#service",className:"btn btn-dark text-white radius-theme box-shadow theme w-100 p-1",children:"Services"})})]})}),e.jsxs("div",{className:"mt-5 col-12 social-media gap-3",children:[e.jsx("a",{href:(E=($=a==null?void 0:a.socialMediaLinks)==null?void 0:$[0])==null?void 0:E.link,target:"_blank",className:"contact-banner text-dark",children:e.jsx("i",{className:"bi bi-facebook"})}),e.jsx("a",{href:(B=(q=a==null?void 0:a.socialMediaLinks)==null?void 0:q[1])==null?void 0:B.link,target:"_blank",className:"contact-banner text-dark",children:e.jsx("i",{className:"bi bi-instagram"})}),e.jsx("a",{href:(U=(M=a==null?void 0:a.socialMediaLinks)==null?void 0:M[2])==null?void 0:U.link,target:"_blank",className:"contact-banner text-dark",children:e.jsx("i",{className:"bi bi-twitter"})})]})]})}),e.jsxs("div",{className:"col-12 col-lg-6 text-end d-none d-lg-block",children:[e.jsx("img",{src:r==null?void 0:r.banner,alt:"",className:"banner-image"}),e.jsx("div",{className:"banner-image-2 d-none",children:e.jsx("img",{src:"/images/baner-image2.png",alt:""})})]})]})})}),e.jsx("div",{className:"mt-5 mb-5",children:e.jsx("div",{className:"container p-top",children:e.jsx("div",{className:"col-12 address-section",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-lg-4 mb-3 mb-lg-0",children:e.jsxs("div",{className:"row align-items-center justify-content-start",children:[e.jsx("div",{className:"col-auto address-logo",children:e.jsx("i",{className:"bi bi-geo-alt-fill"})}),e.jsxs("div",{className:"col",children:[e.jsx("span",{className:"fs-13",children:"Address"}),e.jsxs("p",{className:"fs-16",children:[(_=a==null?void 0:a.address)==null?void 0:_.buildingName,","," ",(O=a==null?void 0:a.address)==null?void 0:O.city,",",(R=a==null?void 0:a.address)==null?void 0:R.landMark,",",(z=a==null?void 0:a.address)==null?void 0:z.streetName,","," ",(J=a==null?void 0:a.address)==null?void 0:J.state]})]})]})}),e.jsx("div",{className:"col-12 col-lg-4 mb-3 mb-lg-0",children:e.jsxs("div",{className:"row align-items-center justify-content-start",children:[e.jsx("div",{className:"col-auto address-logo",children:e.jsx("i",{className:"bi bi-envelope-fill"})}),e.jsxs("div",{className:"col",children:[e.jsx("span",{className:"fs-13",children:"Send Email"}),(Z=a==null?void 0:a.emails)==null?void 0:Z.map((l,t)=>e.jsx("p",{className:"fs-16",children:l.email},t))]})]})}),e.jsx("div",{className:"col-12 col-lg-4 mb-3 mb-lg-0",children:e.jsxs("div",{className:"row align-items-center justify-content-start",children:[e.jsx("div",{className:"col-auto address-logo",children:e.jsx("i",{className:"bi bi-telephone"})}),e.jsxs("div",{className:"col",children:[e.jsx("span",{className:"fs-13",children:"Contact"}),(G=a==null?void 0:a.mobileNumbers)==null?void 0:G.map((l,t)=>e.jsx("p",{className:"fs-16",children:l.number},t))]})]})})]})})})}),e.jsx("section",{className:" h-auto",style:{backgroundColor:"#F3F3F4"},id:"about",children:e.jsx("div",{className:"container p-top",children:e.jsxs("div",{className:"row mt-5 align-items-center mb-5",children:[e.jsx("div",{className:"col-12 col-lg-6 mt-2 text-center text-lg-start about-image",children:e.jsx("img",{src:r.welcome,className:"img-fluid",alt:""})}),e.jsxs("div",{className:"col-12 col-lg-6",children:[e.jsx("div",{className:"col-12 mb-3",children:e.jsx("h1",{className:"text-center text-lg-start text-dark fw-bold david-font fw-bold banner-title",children:n.title})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsx("p",{className:"text-secondary text-center text-lg-start david-font mt-4",children:n.description})})]})]})})})]})]})]})};export{Ie as default};
