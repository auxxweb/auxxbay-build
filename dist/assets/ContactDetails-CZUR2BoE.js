import{a4 as B,a3 as Z,a5 as Q,al as J,am as K,a6 as X,r as m,a7 as Y,an as ee,ao as te,j as e,a8 as z,ab as se,ap as q,aq as ae,ar as R,as as re,at as ne,au as le,av as oe,u as ie,ad as ce,ae as de,af as ue,ah as V,ag as pe,aj as me}from"./index-DChezozi.js";import{L as W,T as U}from"./TextField-C7oGFiCr.js";const G=B("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),_=B("MuiListItemIcon",["root","alignItemsFlexStart"]),H=B("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function ge(s){return Z("MuiMenuItem",s)}const O=B("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),be=(s,o)=>{const{ownerState:i}=s;return[o.root,i.dense&&o.dense,i.divider&&o.divider,!i.disableGutters&&o.gutters]},xe=s=>{const{disabled:o,dense:i,divider:g,disableGutters:h,selected:n,classes:u}=s,p=se({root:["root",i&&"dense",o&&"disabled",!h&&"gutters",g&&"divider",n&&"selected"]},ge,u);return{...u,...p}},he=Q(J,{shouldForwardProp:s=>K(s)||s==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:be})(X(({theme:s})=>({...s.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(s.vars||s).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.selected}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:q(s.palette.primary.main,s.palette.action.selectedOpacity),[`&.${O.focusVisible}`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.focusOpacity}))`:q(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.focusOpacity)}},[`&.${O.selected}:hover`]:{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / calc(${s.vars.palette.action.selectedOpacity} + ${s.vars.palette.action.hoverOpacity}))`:q(s.palette.primary.main,s.palette.action.selectedOpacity+s.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:s.vars?`rgba(${s.vars.palette.primary.mainChannel} / ${s.vars.palette.action.selectedOpacity})`:q(s.palette.primary.main,s.palette.action.selectedOpacity)}},[`&.${O.focusVisible}`]:{backgroundColor:(s.vars||s).palette.action.focus},[`&.${O.disabled}`]:{opacity:(s.vars||s).palette.action.disabledOpacity},[`& + .${G.root}`]:{marginTop:s.spacing(1),marginBottom:s.spacing(1)},[`& + .${G.inset}`]:{marginLeft:52},[`& .${H.root}`]:{marginTop:0,marginBottom:0},[`& .${H.inset}`]:{paddingLeft:36},[`& .${_.root}`]:{minWidth:36},variants:[{props:({ownerState:o})=>!o.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:o})=>o.divider,style:{borderBottom:`1px solid ${(s.vars||s).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:o})=>!o.dense,style:{[s.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:o})=>o.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...s.typography.body2,[`& .${_.root} svg`]:{fontSize:"1.25rem"}}}]}))),ve=m.forwardRef(function(o,i){const g=Y({props:o,name:"MuiMenuItem"}),{autoFocus:h=!1,component:n="li",dense:u=!1,divider:b=!1,disableGutters:p=!1,focusVisibleClassName:l,role:v="menuitem",tabIndex:r,className:y,...f}=g,j=m.useContext(W),$=m.useMemo(()=>({dense:u||j.dense||!1,disableGutters:p}),[j.dense,u,p]),w=m.useRef(null);ee(()=>{h&&w.current&&w.current.focus()},[h]);const L={...g,dense:$.dense,divider:b,disableGutters:p},S=xe(g),I=te(w,i);let C;return g.disabled||(C=r!==void 0?r:-1),e.jsx(W.Provider,{value:$,children:e.jsx(he,{ref:I,role:v,tabIndex:C,component:n,focusVisibleClassName:z(S.focusVisible,l),className:z(S.root,y),...f,ownerState:L,classes:S})})}),ye={width:"100%",height:"400px"},fe=({placeDetails:s,setPlaceDetails:o,setLocation:i,visible:g,setVisible:h,libraries:n})=>{const u=m.useRef(),[b,p]=m.useState(s||""),[l,v]=m.useState(null),[r,y]=m.useState({lat:11.2487,lng:75.8335}),{isLoaded:f}=ae({id:"google-map-script",googleMapsApiKey:"AIzaSyBvlhBGgtiaXtb9iZtYUxoFg2HhiQdGack",libraries:n}),j=t=>{p(t.target.value),t.target.value===""&&(i({lat:"",lon:""}),y({lat:11.2487,lng:75.8335}))},$=()=>{var a,N,k;const c=((a=u==null?void 0:u.current)==null?void 0:a.getPlaces())[0],d=(N=c==null?void 0:c.geometry)==null?void 0:N.location.lat(),x=(k=c==null?void 0:c.geometry)==null?void 0:k.location.lng();p(c==null?void 0:c.formatted_address),i({lat:d,lon:x}),y({lat:d,lng:x})},[w,L]=R.useState(null),S=R.useCallback(t=>{const c=new window.google.maps.LatLngBounds(r);t.fitBounds(c),L(t)},[w]),I=R.useCallback(t=>{L(null)},[]),C=t=>{var c,d,x,a,N,k,M,P,E,T;t!=null&&t.placeId&&F(t.placeId),p(`latitue:${(c=t==null?void 0:t.latLng)==null?void 0:c.lat()},longitude:${(d=t==null?void 0:t.latLng)==null?void 0:d.lng()}`),o(`latitue:${(x=t==null?void 0:t.latLng)==null?void 0:x.lat()},longitude:${(a=t==null?void 0:t.latLng)==null?void 0:a.lng()}`),i({lat:(N=t==null?void 0:t.latLng)==null?void 0:N.lat(),lon:(k=t==null?void 0:t.latLng)==null?void 0:k.lng()}),v({lat:(M=t==null?void 0:t.latLng)==null?void 0:M.lat(),lng:(P=t==null?void 0:t.latLng)==null?void 0:P.lng()}),y({lat:(E=t==null?void 0:t.latLng)==null?void 0:E.lat(),lng:(T=t==null?void 0:t.latLng)==null?void 0:T.lng()})},F=t=>{if(!w)return;new google.maps.places.PlacesService(w).getDetails({placeId:t},(d,x)=>{x===google.maps.places.PlacesServiceStatus.OK?(o(d==null?void 0:d.formatted_address),p(d==null?void 0:d.formatted_address)):console.error("Failed to fetch place details:",x)})},A=()=>{p(""),o(""),h(!1)};return e.jsxs(re,{header:"Select the location",visible:g,onHide:()=>{g&&h(!1)},style:{minWidth:"50vw",borderRadius:"12px",overflow:"hidden",zIndex:1},breakpoints:{"960px":"75vw","641px":"100vw"},children:[f&&e.jsx("div",{className:" mt-2 w-100",children:e.jsx(ne,{onLoad:t=>u.current=t,onPlacesChanged:$,children:e.jsxs("div",{children:[e.jsx(U,{fullWidth:!0,label:"Location",variant:"filled",name:"lon",value:b,onChange:j}),e.jsx(le,{mapContainerStyle:ye,center:r,zoom:10,onLoad:S,onUnmount:I,onClick:C,children:l&&e.jsx(oe,{position:l,animation:window.google.maps.Animation.DROP,icon:{path:e.jsx(we,{}),scale:7,fillColor:"#FF0000",fillOpacity:1,strokeWeight:2,strokeColor:"#FFFFFF"}})})]})})}),e.jsxs("div",{className:"d-flex justify-content-end pt-4 ",children:[e.jsx("button",{onClick:()=>A(),className:"btn shadow btn-primary mx-2",children:"Cancel"}),e.jsx("button",{onClick:()=>h(!1),className:"btn shadow btn-primary mx-2",children:"Submit"})]})]})},we=()=>e.jsxs("svg",{fill:"#ff0000",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"10px",height:"100px",viewBox:"0 0 395.71 395.71","xml:space":"preserve",stroke:"#ff0000",children:[e.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",e.jsxs("g",{children:[" ",e.jsx("path",{d:"M197.849,0C122.131,0,60.531,61.609,60.531,137.329c0,72.887,124.591,243.177,129.896,250.388l4.951,6.738 c0.579,0.792,1.501,1.255,2.471,1.255c0.985,0,1.901-0.463,2.486-1.255l4.948-6.738c5.308-7.211,129.896-177.501,129.896-250.388 C335.179,61.609,273.569,0,197.849,0z M197.849,88.138c27.13,0,49.191,22.062,49.191,49.191c0,27.115-22.062,49.191-49.191,49.191 c-27.114,0-49.191-22.076-49.191-49.191C148.658,110.2,170.734,88.138,197.849,88.138z"})," "]})," "]})]}),je=["places"],ke=()=>{const s=ie(),o=ce(),i=de(t=>t.business),[g,h]=m.useState(!1),[n,u]=m.useState(""),[b,p]=m.useState(!1),[l,v]=m.useState([{name:"name",value:"",type:"text",required:!0,label:"Name"},{name:"buildingName",value:"",type:"text",required:!0,label:"Building Name"},{name:"streetName",value:"",type:"text",required:!0,label:"Street Name"},{name:"landMark",value:"",type:"text",required:!0,label:"Landmark"},{name:"city",value:"",type:"text",required:!0,label:"City"},{name:"state",value:"",type:"text",required:!0,label:"State"},{name:"pinCode",value:"",type:"number",required:!0,label:"Pincode",pattern:"^[0-9]{6}$"}]),[r,y]=m.useState([{name:"primaryCountryCode",fieldName:"select",value:"+91",type:"text",required:!0,label:"Primary Country Code"},{name:"primaryNumber",value:"",type:"number",label:"Primary Number",required:!0,pattern:"^[+]?[0-9]{10,15}$"},{name:"secondaryCountryCode",fieldName:"select",value:"+91",type:"text",required:!1,label:"Secondary Country Code"},{name:"secondaryNumber",value:"",type:"number",required:!1,label:"Secondary Number",pattern:"^[+]?[0-9]{10,15}$"},{name:"whatsappCountryCode",fieldName:"select",value:"+91",type:"text",required:!0,label:"Whatsapp Country Code"},{name:"whatsappNumber",value:"",type:"number",required:!0,label:"Whatsapp Number",pattern:"^[+]?[0-9]{10,15}$"}]),[f,j]=m.useState([{name:"email",value:"",type:"text",required:!0,label:"Email",fullWidth:!0,pattern:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$"},{name:"website",value:"",type:"text",required:!1,label:"Website",fullWidth:!0}]),[$,w]=m.useState({lat:"",lon:""}),L=[{code:"+91",country:"India",cca2:"IN"},{code:"+974",country:"Qatar",cca2:"QA"},{code:"+968",country:"Oman",cca2:"OM"},{code:"+973",country:"Bahrain",cca2:"BH"}],S=()=>s("/create-business/details"),I=(t,c,d)=>{const x=d.map(a=>({...a,value:t[a.name]||a.value}));c(x)};m.useEffect(()=>{I(i==null?void 0:i.address,v,l),I(i==null?void 0:i.contactDetails,y,r),I(i==null?void 0:i.contactDetails,j,f)},[i]);const C=t=>Object.fromEntries(t.map(d=>[d.name,d.value])),F=t=>{const c=t.map(a=>({...a,error:a.required&&(!a.value.trim()||a.pattern&&!new RegExp(a.pattern).test(a.value)),helperText:a.required&&(!a.value.trim()||a.pattern&&!new RegExp(a.pattern).test(a.value))?a.value.trim()?a.pattern?"Invalid input":`${a.label} is required`:`${a.label} is required`:""})),d=c.filter(a=>a.error&&a.required),x=(d==null?void 0:d.length)>0;return{updatedFields:c,isError:x}},A=t=>{t.preventDefault();{const N=F(f),k=F(r),M=F(l);if(v(M.updatedFields),j(N.updatedFields),y(k.updatedFields),N.isError||k.isError||M.isError)return}const c=C(f),d=C(r),x=C(l),a={contactDetails:{...d,...c},address:x,location:$};console.log(a),p(!0),o(me(a)),s("/create-business/category"),p(!1)};return e.jsx("div",{className:"h-100vh create-business-div",children:e.jsxs("div",{className:"row px-4 h-100",children:[e.jsxs("div",{className:"col-12 col-sm-12 col-md-6 col-lg-6   row align-items-center right-portion p-sm-5",children:[e.jsx("div",{className:"col-12 mt-4 text-start",children:e.jsx("button",{className:"btn btn-dark w-auto float-start",onClick:S,children:e.jsx("i",{className:"bi bi-arrow-left"})})}),e.jsx("div",{className:"col-12 mt-5 text-center text-md-start",children:e.jsxs("h1",{className:"fw-bold title-text",children:[e.jsx("span",{className:"title-main",children:"Add "}),e.jsx("span",{className:"title-highlight",children:"Contact Details"})]})}),e.jsxs(ue,{component:"form",className:"mb-3  ",onSubmit:A,validated:!1,noValidate:!1,children:[e.jsx(D,{state:l,setState:v,w:!0}),g&&e.jsx(fe,{placeDetails:n,setPlaceDetails:u,libraries:je,visible:g,setVisible:h,setLocation:w}),e.jsxs("div",{className:"   justify-content-between  m-2",children:[e.jsxs(V,{variant:"contained",color:"primary",type:"button",onClick:()=>h(!g),children:[e.jsx("button",{type:"button",className:"border-0 bg-transparent ",children:e.jsx("svg",{fill:"#fff",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"17px",height:"17px",viewBox:"0 0 395.71 395.71","xml:space":"preserve",children:e.jsx("g",{children:e.jsx("path",{d:`M197.849,0C122.131,0,60.531,61.609,60.531,137.329c0,72.887,124.591,243.177,129.896,250.388l4.951,6.738\r
		c0.579,0.792,1.501,1.255,2.471,1.255c0.985,0,1.901-0.463,2.486-1.255l4.948-6.738c5.308-7.211,129.896-177.501,129.896-250.388\r
		C335.179,61.609,273.569,0,197.849,0z M197.849,88.138c27.13,0,49.191,22.062,49.191,49.191c0,27.115-22.062,49.191-49.191,49.191\r
		c-27.114,0-49.191-22.076-49.191-49.191C148.658,110.2,170.734,88.138,197.849,88.138z`})})})}),e.jsx("button",{type:"button",style:{width:"7rem",fontSize:"14px"},className:"border-0 bg-transparent text-white text-wrap ",children:"Add Location"})]}),e.jsx("p",{style:{fontSize:"13px",wordSpacing:"2px",wordBreak:"break-all"},className:"text-secondary fw-bold my-2 my-md-0 ms-md-2",children:n})]}),e.jsx(D,{state:r,setState:y,countryCodes:L}),e.jsx(D,{state:f,setState:j,w:!0}),e.jsx("div",{className:"d-flex justify-content-center align-items-center w-100 my-5 ",children:b?e.jsx(pe,{variant:"primary"}):e.jsx(V,{variant:"contained",className:"w-100 submit-button",type:"submit",children:"save & next"})})]})]}),e.jsxs("div",{className:"left-portion p-3 col-12 col-md-6 col-lg-6 row align-items-center",children:[e.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),e.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:!0}),e.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap",rel:"stylesheet"}),e.jsxs("style",{children:[" ",`
                  .btn-primary {
      background-color: #105193;
      border-color: #105193;
    }
    .btn-primary:hover {
      background-color: #107d93;
      border-color: #107d93;
    }
               .title-text {
      text-align: left;
    }
    .title-main {
      color: black;
    }
    .title-highlight {
      color: #105193;
    }
              .theme
              {
                  background-color: #FC791A;
                  color: white;
                  border: none;
              }.service-design.active{
                  background-color: #FC791A;
              }.address-section{
              background-color:#FC791A;
              }.address-logo i{
              color: #FC791A;
              }.cat-option{
                  border-right: 1px dashed #FC791A;
              }.text-orange{
                      color: #FC791A;
                  }.dish-div:hover{
                      background-color: #FC791A;
                      color:white;
                  }
                  `]}),e.jsxs("div",{className:"p-3",style:{border:"1px dashed black",borderRadius:"16px"},children:[e.jsx("p",{className:"text-center",children:"This section contains items for the Contact Information."}),e.jsx("div",{className:"mt-5 mb-5",children:e.jsx("div",{className:"container p-top",children:e.jsx("div",{className:"col-12 address-section",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 col-lg-4 mb-3 mb-lg-0",children:e.jsxs("div",{className:"row align-items-center justify-content-start",children:[e.jsx("div",{className:"col-auto address-logo",children:e.jsx("i",{className:"bi bi-geo-alt-fill"})}),e.jsxs("div",{className:"col",children:[e.jsx("span",{className:"fs-13",children:"Address"}),e.jsxs("p",{className:"fs-16 text-break",children:[l[1].value,",",l[4].value,",",l[3].value,",",l[2].value,",",l[5].value,",",l[6].value]})]})]})}),e.jsx("div",{className:"col-12 col-lg-4 mb-3 mb-lg-0",children:e.jsxs("div",{className:"row align-items-center justify-content-start",children:[e.jsx("div",{className:"col-auto address-logo",children:e.jsx("i",{className:"bi bi-envelope-fill"})}),e.jsxs("div",{className:"col",children:[e.jsx("span",{className:"fs-13",children:"Send Email"}),e.jsx("p",{className:"fs-16 text-break",children:f[0].value})]})]})}),e.jsx("div",{className:"col-12 col-lg-4 mb-3 mb-lg-0",children:e.jsxs("div",{className:"row align-items-center justify-content-start",children:[e.jsx("div",{className:"col-auto address-logo",children:e.jsx("i",{className:"bi bi-telephone"})}),e.jsxs("div",{className:"col",children:[e.jsx("span",{className:"fs-13",children:"Contact"}),e.jsxs("p",{className:"fs-16",children:[r[0].value," ",r[1].value]}),e.jsxs("p",{className:"fs-16",children:[r[2].value," ",r[3].value]})]})]})})]})})})})]})]})]})})},D=({state:s,setState:o,countryCodes:i,w:g})=>{const h=n=>{const{name:u,value:b}=n.target;o(p=>p.map(l=>{if(l.name===u){let v=!0,r="";if(l.pattern&&(v=new RegExp(l.pattern).test(b),!v))switch(l.name){case"name":r="Only alphabetic characters allowed";break;case"buildingName":r="Only alphabetic characters allowed";break;case"streetName":r="Only alphabetic characters allowed";break;case"landMark":r="Only alphabetic characters allowed";break;case"city":r="Only alphabetic characters allowed";break;case"state":r="Only alphabetic characters allowed";break;case"pinCode":r="Invalid pin code. It should be 6 digits.";break;case"primaryNumber":r="Invalid primary number. Must be between 10-15 digits.";break;case"secondaryNumber":r="Invalid secondary number. Must be between 10-15 digits.";break;case"whatsappNumber":r="Invalid WhatsApp number. Must be between 10-15 digits.";break;case"email":r="Invalid email format.";break;default:r="Invalid input"}return{...l,value:b,error:l.required&&(!b.trim()||!v),helperText:l.required&&(!b.trim()||!v)?b.trim()?r:`${l.label} is required`:""}}return l}))};return e.jsx("div",{className:" w-100 pe-2 ",children:s.map(n=>e.jsx(U,{style:{maxWidth:`${n.fieldName==="select"&&"7rem"}`},select:n.fieldName==="select",name:n.name,label:n.fieldName==="select"?"Code":n.label,type:n.type,value:n.value,onChange:h,error:n.error,helperText:n.error?n.helperText:"",inputProps:{pattern:n.pattern},variant:"filled",className:`m-2  ${n.fieldName!=="select"&&"input-primary-number w-75 "} ${g&&"w-100"}  `,children:n.fieldName==="select"&&i.map(({code:u,country:b,cca2:p})=>e.jsxs(ve,{value:u,children:[e.jsx("img",{src:`https://flagcdn.com/w20/${p.toLowerCase()}.png`,alt:`${b} flag`,className:" w-5 h-4"}),`(${u})`]},u))},n.name))})};export{ke as default};
